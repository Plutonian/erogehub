<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://localhost:8080/css.css">
    <script type="text/javascript">

        function showLarge(index) {
            document.querySelectorAll("#sampleLarge>img").forEach((node, index, list) => node.style.display = 'none')

            document.getElementById(`large_${index}`).style.display = 'block'
        }

    </script>
    <title>Title</title>
</head>

<body>
<header class="flex_column anchor_parent" style="position:sticky;top:0;background-color: #ddd;">
    #parse("/tpl/game/explorer/part/gameInfomain.html")
</header>
<section class="flex_row">
    <img src="$IMG_REMOTE/game/${GetchuGameLocal.largeImg($g)}.jpg"/>
    <detail class="flex_column" style="flex:1">
        <painters class="flex_row" style="gap:10px">
            #foreach($painter in $g.painter)
            <a href="javascript:app.loadPainterTab('$painter')">$painter</a>
            #end
        </painters>
        <textarea readonly="readonly" rows="20" style="flex:1">${g.intro}${g.story}</textarea>
    </detail>

</section>

<characters class="grid" style="grid-template-columns: 1fr 1fr;gap: 20px">
    #foreach($character in $g.gameCharacters)
    <character class="flex_row">
        <div class="imageborder">
            <img src="$IMG_REMOTE/game/${GetchuGameLocal.gameChar($g,$character.index)}.jpg"/>
        </div>
        <main class="flex_column" style="flex:1">
                <span>
                    ${character.name}
                </span>
            #if(${Strings.isNotEmpty($character.cv)})
            <cv class="flex_row" style="gap:3px;font-size:14px">
                <span>CV: </span>
                #if(${Strings.isNotEmpty($character.trueCV)})
                <span><a style="color:red"
                         href="javascript:app.loadCVTab('${character.trueCV}',true)">${character.trueCV}</a></span>

                #else
                <span><a href="javascript:app.loadCVTab('${character.cv}',false)">${character.cv}</a></span>
                <span>(<a href="javascript:app.openWiki('${character.cv}')">Wiki</a>)</span>
                <span>(<a href="javascript:app.openBangumi('${character.cv}')">Bangumi</a>)</span>

                #end
            </cv>
            #end
            <textarea readonly="readonly" style="flex:1">${character.intro}</textarea>

        </main>

    </character>
    #end
</characters>
<section class="flex_row" style="min-height:600px;">
    <sampleIamges class="image_grid" style="flex:1;">
        #foreach($img in $g.gameImgs)
        <img class="sample_img" onmouseover="showLarge($img.index)"
             src="$IMG_REMOTE/game/${GetchuGameLocal.smallSimpleImg($g,$img.index)}.jpg"/>
        #end
    </sampleIamges>

    <sampleIamges id="sampleLarge" class="flex_row" style="flex-wrap: wrap;align-items: start;flex:1;">
        #foreach($img in $g.gameImgs)
        <img id="large_$img.index" src="$IMG_REMOTE/game/${GetchuGameLocal.largeSimpleImg($g,$img.index)}.jpg"
             style="display:none"/>
        #end
    </sampleIamges>

</section>


</body>

</html>