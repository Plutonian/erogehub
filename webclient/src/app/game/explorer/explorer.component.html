<ng-template [ngIf]="rowGameList">
  <ng-template [ngIf]="rowGameList.length>0" [ngIfElse]="noGames">
    <d-splitter style="height: 100%">
      <d-splitter-pane maxSize="400px" size="300px" minSize="300px" [collapsible]="true" class="all_height"
                       style="overflow: auto">
        <app-groupside [filter]="filter" (onBrandSelected)="onBrandSelected($event)" (onEmotionSelected)="onEmotionSelected($event)"></app-groupside>
      </d-splitter-pane>
      <d-splitter-pane>
        <div class="flex_column all_height">
          <header class="flex_row bg-white">
            <app-filter></app-filter>
          </header>

          <div [ngSwitch]="size" class="flex_grow" style="overflow: auto" *ngIf="gamelist&&gamelist.length>0">
            <main *ngSwitchCase="'Grid'"
                  class="grid game-grid div2 test_border container">

              <app-grid-cell (remove)="gameDelete($event)" [game]="g" *ngFor="let g of gamelist"></app-grid-cell>
            </main>

            <main *ngSwitchCase="'List'" class="grid game-list  div2 test_border container">

              <app-list-cell (remove)="gameDelete($event)" [game]="g" *ngFor="let g of gamelist"></app-list-cell>
            </main>
          </div>

          <footer style="position:sticky;bottom:0;right: 0"
                  class="test_border container flex_row bg-white">
            <span *ngIf="rowGameList?.length == gamelist?.length;else filterCount">{{rowGameList.length}}</span>

            <ng-template #filterCount>
              <span>{{rowGameList.length}} / <a (click)="clearFilter()">{{gamelist.length}}</a></span>
            </ng-template>

            <div style="margin-left: auto" class="flex_row gap-5">
      <span dPopover [position]="'top'"
            [trigger]="'hover'"
            [controlled]="true"
            [popoverStyle]="{ backgroundColor: 'white', color: 'black',border:'1px solid black' }" [content]="sortPanel">Sort</span>
              <select class="flex_row gap-5" [(ngModel)]="size">
                <option value="Grid">Grid</option>
                <option value="List">List</option>
              </select>
            </div>

          </footer>
        </div>
      </d-splitter-pane>
    </d-splitter>
  </ng-template>

  <ng-template #noGames>
    <H3>Empty</H3>
  </ng-template>
</ng-template>

<ng-template #sortPanel>
  <ul class="flex_row gap-5 " style="margin-left: auto">
    <li (click)="sort()">Name</li>
    <li (click)="sortState()">State</li>
  </ul>
</ng-template>
