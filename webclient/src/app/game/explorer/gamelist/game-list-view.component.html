<ng-template #sortPanel>
  <ul class="flex_row gap-5 " style="margin-left: auto">
    <li (click)="sort()">Name</li>
    <li (click)="sortEmotion()">Emotion</li>
  </ul>
</ng-template>

<nz-layout>
  <nz-content>
    <div *ngIf="size=='Grid'"
         class="grid game-grid  container">
      <app-grid-cell (remove)="gameDelete($event)" [game]="g" *ngFor="let g of gamelist"></app-grid-cell>
    </div>

    <cdk-virtual-scroll-viewport *ngIf="size=='List'" itemSize="200" style="height:100vh">
      <div class="grid game-list  container">
        <app-list-cell (remove)="gameDelete($event)" [game]="g" *cdkVirtualFor="let g of gamelist"></app-list-cell>
      </div>
    </cdk-virtual-scroll-viewport>

  </nz-content>
  <nz-footer>
    <nz-affix [nzOffsetBottom]="0">
      <div class="flex_row bg-white">
        <span *ngIf="rowGameList?.length == gamelist?.length;else filterCount">{{rowGameList.length}}</span>

        <ng-template #filterCount>
          <span>{{rowGameList.length}} / <a (click)="clearFilter()">{{gamelist.length}}</a></span>
        </ng-template>

        <div *ngIf="gamelist.length>1" style="margin-left: auto" class="flex_row gap-5">
          <span nz-popover [nzPopoverContent]="sortPanel">Sort</span>

          <nz-radio-group [(ngModel)]="size" nzButtonStyle="solid">
            <label nz-radio-button nzValue="Grid"><i nz-icon nzType="appstore" nzTheme="outline"></i></label>
            <label nz-radio-button nzValue="List"><i nz-icon nzType="bars" nzTheme="outline"></i></label>
          </nz-radio-group>
        </div>
      </div>
    </nz-affix>
  </nz-footer>
</nz-layout>
