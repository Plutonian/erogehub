<section class="flex_column game {{game.state}}">

  <img *ngIf="large;else small" class="img_alone" src="{{game|img}}/game_s.jpg" (click)="openDrawer()"/>
  <ng-template #small>
    <img class="img_alone" src="{{game|img}}/game_t200.jpg" (click)="openDrawer()"/>
  </ng-template>
  <main style="gap:2px;" class="flex_grow flex_column bg-white container">
    <section class="flex_row flex_float">

      <div>
        <app-location-change [game]="game"></app-location-change>
        <a title="{{game.name}}" class="title" routerLink="/game/{{game.id}}">
          {{game.titles?.mainTitle}}
        </a>
        <span>{{game.titles?.subTitle}}</span>
      </div>
    </section>
    <section>
      <app-jump-brand [brand]="game?.brand"></app-jump-brand>
      <span *ngIf="game.brand.website!=null && game.brand.website.length>0"
            style="display:inline-block;margin-left:5px;">(<a target="_blank"
                                                              href="{{game.brand?.website}}">公式サイト</a>)</span>
    </section>

    <app-formatted-date *ngIf="game.publishDate!=null" [game]="game"></app-formatted-date>

    <app-star-change [game]="game"></app-star-change>
    <section *ngIf="game.tag?.length > 0" class="flex_row flex_float gap-5">
      <app-jumptag *ngFor="let tag of game.tag" [tag]="tag" style="font-size:10px;"></app-jumptag>
    </section>


  </main>
  <div class="bottomBar flex_row">
    <a *ngIf="game.state == 'SAME'" (click)="delete()">Delete</a>
    <app-state-change style="margin-left: auto;" [game]="game"></app-state-change>
  </div>
</section>
<ng-template #drawerContent>
  <app-game-detail [game]="game"></app-game-detail>
</ng-template>
